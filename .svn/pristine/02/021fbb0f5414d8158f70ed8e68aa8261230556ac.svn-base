<?php/** 大转盘 */namespace app\home\controller;use app\common\controller\HomeBase;use think\Db;class Holidaycard extends HomeBase{   	public function grats()   	{        $this->id = $this->userInfo['id']; //用户id        $this->gcid = $_GET['id']; // 贺卡id        return $this->fetch();    }    public function beijing()    {        $this->id = $this->userInfo['id'];         return $this->fetch();    }    public function music()    {        $this->id = $this->userInfo['id'];        return $this->fetch();    }    public function share()    {        $this->id = $this->userInfo['id'];        return $this->fetch();    }    public function layout()    {        $this->id = $this->userInfo['id'];        return $this->fetch();    }    public function showview()    {       // 注意 URL 一定要动态获取，不能 hardcode.       $protocol = (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off' || $_SERVER['SERVER_PORT'] == 443) ? "https://" : "http://";       $url = "$protocol$_SERVER[HTTP_HOST]$_SERVER[REQUEST_URI]";       $this->assign('share_url', $url);       $this->assign('gid', $_GET['gid']);       $list = Db::table('s_users_gcard')->where(array('id'=>Input('get.gid')))->find();       $this->sharetitle = $list['share_title'];       $this->desc = $list['share_content'];       if(substr($list['share_thumb'],0,4) != 'http'){           $list['share_thumb'] = 'http://'.$_SERVER['HTTP_HOST'].$list['share_thumb'];       }       $this->imgUrl = $list['share_thumb'];       $this->share_jump = 'http://'.$_SERVER['HTTP_HOST'].url("Home/Nologin/gcard_share/id/".$this->userInfo['id'].'/gid/'.$list['id']);       $this->id = $this->userInfo['id'];       return $this->fetch();    }    public function mine()    {        $this->id = $this->userInfo['id'];        return $this->fetch();    }}